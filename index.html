<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JEE Main Part Test-1 – PCM</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    body{background:#f1f3f6;color:#111}
    .app{max-width:1100px;margin:0 auto;padding:16px}
    header{background:#003366;color:#fff;padding:12px 16px;border-radius:8px 8px 0 0}
    header h1{font-size:18px;margin-bottom:4px}
    header p{font-size:12px;opacity:.9}
    .card{background:#fff;border-radius:0 0 8px 8px;box-shadow:0 2px 6px rgba(0,0,0,.1);padding:16px}
    .row{display:flex;gap:16px;flex-wrap:wrap}
    .col-main{flex:1 1 620px;min-width:0}
    .col-side{flex:0 0 280px}
    .panel{border:1px solid #dde3ef;border-radius:6px;margin-bottom:12px}
    .panel-header{background:#f5f7fb;border-bottom:1px solid #dde3ef;padding:8px 10px;font-size:13px;font-weight:600}
    .panel-body{padding:10px}
    .login-grid{display:grid;grid-template-columns:110px 1fr;row-gap:6px;column-gap:8px;font-size:13px}
    .login-grid label{text-align:right;margin-top:4px}
    .login-grid input{padding:4px 6px;font-size:13px;width:100%}
    .btn{border:none;outline:none;padding:7px 14px;font-size:13px;border-radius:4px;cursor:pointer}
    .btn-primary{background:#007bff;color:#fff}
    .btn-primary:disabled{background:#9bbcf3;cursor:not-allowed}
    .btn-danger{background:#d9534f;color:#fff}
    .btn-secondary{background:#e0e3eb}
    .top-bar{display:flex;justify-content:space-between;align-items:center;font-size:13px;margin-bottom:8px}
    .timer{font-weight:700;color:#c00}
    .subject-tabs{display:flex;gap:4px;margin-bottom:8px;flex-wrap:wrap}
    .tab{padding:5px 10px;font-size:12px;border-radius:20px;border:1px solid #ccd4e2;background:#f5f7fb;cursor:pointer}
    .tab.active{background:#003366;color:#fff;border-color:#003366}
    .q-header{display:flex;justify-content:space-between;align-items:center;font-size:13px;margin-bottom:6px}
    .q-text{font-size:14px;margin-bottom:8px;line-height:1.4;white-space:pre-wrap}
    .options{list-style:none;font-size:13px}
    .options li{padding:6px 8px;margin-bottom:4px;border-radius:4px;border:1px solid #d3d8e4;cursor:pointer;display:flex;align-items:flex-start;gap:6px}
    .options li span.opt-label{font-weight:600;min-width:18px}
    .options li.selected{background:#e7f1ff;border-color:#007bff}
    .num-input{width:150px;padding:4px 6px;font-size:13px}
    .q-actions{display:flex;gap:8px;margin-top:8px}
    .q-actions .btn{flex:0 0 auto}
    .palette-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:6px}
    .qbtn{padding:6px 0;font-size:11px;border-radius:4px;border:1px solid #d3d8e4;background:#f5f7fb;cursor:pointer}
    .qbtn.answered{background:#28a745;color:#fff;border-color:#1e7e34}
    .qbtn.marked{background:#ffc107;color:#000;border-color:#e0a800}
    .qbtn.current{box-shadow:0 0 0 2px #003366 inset}
    .qbtn.notvisited{background:#f5f7fb}
    .qbtn.notanswered{background:#dc3545;color:#fff;border-color:#b21f2d}
    .legend{display:flex;flex-wrap:wrap;gap:6px;font-size:11px;margin-top:6px}
    .legend span{display:inline-flex;align-items:center;gap:3px}
    .lg-box{width:14px;height:14px;border-radius:3px;border:1px solid #d3d8e4}
    .lg-ans{background:#28a745;border-color:#1e7e34}
    .lg-mark{background:#ffc107;border-color:#e0a800}
    .lg-na{background:#dc3545;border-color:#b21f2d}
    .lg-nv{background:#f5f7fb}
    .summary{font-size:13px;border-collapse:collapse;width:100%;margin-top:6px}
    .summary th,.summary td{border:1px solid #d3d8e4;padding:4px 6px;text-align:center}
    .summary th{text-align:center;background:#f5f7fb}
    .hidden{display:none}
    .main-container {
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    @media (max-width: 768px) {
      body {
        overflow: auto;
      }
      .main-container {
        height: auto;
      }
    }
    
  </style>
</head>
<body>
<body>
  <div class="main-container">  
  <header>
    <h1>JEE MAIN CATALYST SERIES – Part Test-1 (PCM)</h1>
    <p>Duration: 3 Hours &nbsp; | &nbsp; Maximum Marks: 300</p>
  </header>
  <div class="card" id="appRoot">

    <!-- LOGIN PANEL -->
    <div id="loginView">
      <div class="panel">
        <div class="panel-header">Candidate Login (Demo)</div>
        <div class="panel-body">
          <div class="login-grid">
            <label for="name">Candidate Name:</label>
            <input id="name" type="text" placeholder="Enter your name" />
            <label for="roll">Application / Roll No.:</label>
            <input id="roll" type="text" placeholder="Enter roll number" />
            <label for="paper">Paper:</label>
            <input id="paper" type="text" value="Part Test-1 – PCM" />
          </div>
          <p style="font-size:11px;margin-top:10px;color:#555;">
            Note: This is a local demo CBT. Use on full screen, do not refresh during the test.
          </p>
          <button class="btn btn-primary" style="margin-top:10px;" onclick="startTest()">Proceed to Instructions</button>
        </div>
      </div>
    </div>

    <!-- INSTRUCTIONS PANEL -->
    <div id="instView" class="hidden">
      <div class="panel">
        <div class="panel-header">General Instructions</div>
        <div class="panel-body" style="font-size:13px;line-height:1.5;">
          <ul style="margin-left:18px;">
            <li>This demo shows JEE Main style CBT for <b>Physics, Chemistry, Mathematics</b>.</li>
            <li>Each subject has 25 questions (20 MCQ + 5 numerical).</li>
            <li>MCQ: +4 correct, -1 incorrect, 0 if not answered. Numerical: +4 correct, 0 otherwise.</li>
            <li>Use the subject tabs and question palette to navigate.</li>
          </ul>
          <p style="margin-top:8px;">Click on <b>Start Test</b> to begin the 3-hour countdown.</p>
         <button id="startTestBtn" class="btn btn-primary" style="margin-top:8px;" onclick="beginExam()">Start Test</button>
        </div>
      </div>
    </div>

    <!-- TEST PANEL -->
    <div id="testView" class="hidden">
      <div class="row">
        <div class="col-main">
          <div class="panel">
            <div class="panel-header">
              <div class="top-bar">
                <div>
                  Candidate: <b id="candName"></b> &nbsp; | &nbsp;
                  Roll No.: <b id="candRoll"></b> &nbsp; | &nbsp;
                  Subject:
                  <b id="subjectLabel">Physics</b>
                </div>
                <div class="timer">Time Left: <span id="timerTxt">03:00:00</span></div>
              </div>
            </div>
            <div class="panel-body">

              <div class="subject-tabs">
                <button id="tabPhy"  class="tab active" onclick="switchSubject('physics')">Physics</button>
                <button id="tabChem" class="tab"         onclick="switchSubject('chemistry')">Chemistry</button>
                <button id="tabMath" class="tab"         onclick="switchSubject('maths')">Mathematics</button>
              </div>

              <div class="q-header">
                <div>
                  Question <b id="qNumberLabel">1</b> of <b id="totalQLabel">25</b>
                  (<span id="subShort">Phy</span>)
                </div>
                <div id="qTypeLabel" style="font-size:12px;color:#555;"></div>
              </div>
              <div class="q-text" id="qText"></div>

              <!-- MCQ OPTIONS -->
              <ul class="options" id="optList"></ul>

              <!-- NUMERIC INPUT -->
              <div id="numBox" class="hidden">
                <label style="font-size:13px;">Enter your answer (numeric):</label><br/>
                <input id="numInput" class="num-input" type="text" />
              </div>

              <div class="q-actions">
                <button class="btn btn-secondary" onclick="clearResponse()">Clear Response</button>
                <button class="btn btn-secondary" onclick="markForReview()">Mark for Review &amp; Next</button>
                <button class="btn btn-primary" onclick="saveAndNext()">Save &amp; Next</button>
                <button class="btn btn-danger" style="margin-left:auto;" onclick="finishTest()">Finish</button>
              </div>
            </div>
          </div>

          <div class="panel hidden" id="summaryPanel">
            <div class="panel-header">Test Summary</div>
            <div class="panel-body">
              <table class="summary">
                <tr>
                  <th>Subject</th><th>Questions</th><th>Attempted</th><th>Correct</th>
                  <th>Wrong</th><th>Marks</th>
                </tr>
                <tr>
                  <td>Physics</td>
                  <td id="smTotalP"></td>
                  <td id="smAttP"></td>
                  <td id="smCorP"></td>
                  <td id="smWrP"></td>
                  <td id="smMkP"></td>
                </tr>
                <tr>
                  <td>Chemistry</td>
                  <td id="smTotalC"></td>
                  <td id="smAttC"></td>
                  <td id="smCorC"></td>
                  <td id="smWrC"></td>
                  <td id="smMkC"></td>
                </tr>
                <tr>
                  <td>Mathematics</td>
                  <td id="smTotalM"></td>
                  <td id="smAttM"></td>
                  <td id="smCorM"></td>
                  <td id="smWrM"></td>
                  <td id="smMkM"></td>
                </tr>
              </table>
              <p style="font-size:13px;margin-top:6px;">
                Overall Score: <b id="smOverall"></b> / <b id="smOverallMax"></b>
              </p>
            </div>
          </div>
        </div>

        <div class="col-side">
          <div class="panel">
            <div class="panel-header">Question Palette (<span id="palTitle">Physics 1-25</span>)</div>
            <div class="panel-body">
              <div class="palette-grid" id="palette"></div>
              <div class="legend">
                <span><span class="lg-box lg-ans"></span> Answered</span>
                <span><span class="lg-box lg-na"></span> Not Answered</span>
                <span><span class="lg-box lg-nv"></span> Not Visited</span>
                <span><span class="lg-box lg-mark"></span> Marked for Review</span>
              </div>
              <button class="btn btn-secondary" style="margin-top:8px;width:100%;" onclick="showSummary()">View Summary</button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
/* ===== 1. QUESTIONS DATA ===== */

/* === PHYSICS QUESTIONS === */
const physicsQuestions =[
  {
    id: 1,
    type: "mcq",
    text: "A plank of mass m1 = 8 kg with a bar of mass m2 = 2 kg on its rough surface lies on a smooth floor of an elevator ascending with acceleration g/4. The coefficient of friction between m1 and m2 is 1/5. A horizontal force F = 30 N is applied to the plank. The accelerations of bar and plank in the frame of the elevator are (take g = 10 m/s²):",
    options: [
      "3.5 m/s², 5 m/s²",
      "5 m/s², ? m/s²",
      "2.5 m/s², ? m/s²",
      "4.5 m/s², 4.5 m/s²"
    ],
    correctIndex: 2   // option C in key
  },
  {
    id: 2,
    type: "mcq",
    text: "A spring (force constant k, mass m) hangs vertically and supports a block of mass M ≫ m. The block stretches the spring to twice its relaxed length. Time taken for a small transverse pulse to travel the stretched length is:",
    options: [
      "2√(m/k)",
      "√(2k/m)",
      "√(m/k)",
      "None of these"
    ],
    correctIndex: 0
  },
  {
    id: 3,
    type: "mcq",
    text: "An aluminium wire of length 60 cm is joined to a steel wire of length 80 cm and stretched between two supports with tension 40 N. Areas: Al = 3 mm², steel = 1 mm². Densities: ρ(Al) = 2.6 g/cm³, ρ(steel) = 7.8 g/cm³. Minimum frequency of tuning fork producing standing waves with joint as node is:",
    options: [
      "90 Hz",
      "145 Hz",
      "180 Hz",
      "250 Hz"
    ],
    correctIndex: 2
  },
  {
    id: 4,
    type: "mcq",
    text: "In hydrogen atom, first Bohr radius is 0.53 Å and ground‑state energy is −13.6 eV. If electron is replaced by a muon of mass 207 mₑ (same charge), the first Bohr radius and ground‑state energy become approximately:",
    options: [
      "0.53×10⁻¹³ m, −3.6 eV",
      "25.6×10⁻¹³ m, −2.8 eV",
      "2.56×10⁻¹³ m, −2.8 keV",
      "2.56×10⁻¹³ m, −13.6 eV"
    ],
    correctIndex: 2
  },
  {
    id: 5,
    type: "mcq",
    text: "An α‑particle and a proton move in a uniform magnetic field B (perpendicular to their velocities) such that the radii of their circular paths are equal. The ratio of their de‑Broglie wavelengths λα / λp is:",
    options: [
      "1 : 1",
      "4 : 1",
      "1 : 2",
      "2 : 1"
    ],
    correctIndex: 2
  },
  {
    id: 6,
    type: "mcq",
    text: "A photon of energy 10.2 eV collides inelastically with a ground‑state hydrogen atom at rest. After a microsecond, another photon of energy 15 eV collides inelastically with the same atom. What is detected?",
    options: [
      "Two photons of energy 10.2 eV",
      "Two photons of energy 1.4 eV",
      "One photon of 10.2 eV and one electron of 1.4 eV",
      "One photon of 10.2 eV and another of 1.4 eV"
    ],
    correctIndex: 2
  },
  {
    id: 7,
    type: "mcq",
    text: "A flat car is given constant acceleration a₀ = 2 m/s². A crate A of mass 50 kg is on the car. Coefficient of friction between crate and car floor is 0.3. Neglect all other frictions. Tension in cable (see figure in original test) is:",
    options: [
      "700 N",
      "350 N",
      "175 N",
      "0"
    ],
    correctIndex: 1
  },
  {
    id: 8,
    type: "mcq",
    text: "On a composite incline of angle α, upper portion smooth and lower portion rough, a particle slides from rest at the top and just comes to rest at the bottom. If the ratio of smooth:rough lengths is m:n, the coefficient of friction is:",
    options: [
      "(m − n) tanα / (m + n)",  // written succinctly
      "(m/n) cotα",
      "(m/n) tanα",
      "tanα"
    ],
    correctIndex: 3
  },
  {
    id: 9,
    type: "mcq",
    text: "Critical velocity v_c for liquid flow in a tube depends on coefficient of viscosity η, density ρ, and tube radius r. If v_c ∝ ηˣ ρʸ rᶻ, then (x, y, z) are:",
    options: [
      "(1, 1, 1)",
      "(−1, −1, 1)",
      "(−1, −1, −1)",
      "(1, −1, −1)"
    ],
    correctIndex: 1
  },
  {
    id: 10,
    type: "mcq",
    text: "Assuming about 20 MeV energy is released per fusion reaction ²¹H + ³¹H → ⁴²He + n, the mass of ²¹H consumed per day in a future fusion reactor of power 1 MW is approximately:",
    options: [
      "0.1 g",
      "0.01 g",
      "1 g",
      "10 g"
    ],
    correctIndex: 0
  },
  {
    id: 11,
    type: "mcq",
    text: "A closed organ pipe of length l vibrates in its 3rd overtone (4th harmonic) with maximum amplitude a. Amplitude at distance l/7 from the closed end is:",
    options: [
      "a",
      "a/2",
      "a/√2",
      "0"
    ],
    correctIndex: 0
  },
  {
    id: 12,
    type: "mcq",
    text: "A wave on a string is y = A sin(kx − ωt). It is reflected at x = ℓ. The equation of the reflected wave is:",
    options: [
      "A sin(kx − ωt)",
      "A sin(kx + ωt + 2kℓ)",   // effective phase
      "A sin(−kx − ωt)",
      "A sin(kx − ωt/2)"
    ],
    correctIndex: 1
  },
  {
    id: 13,
    type: "mcq",
    text: "A metal wire has mass (0.4 ± 0.002) g, radius (0.3 ± 0.001) mm, and length (5.0 ± 0.02) cm. Maximum possible percentage error in density is nearly:",
    options: [
      "1.3%",
      "1.6%",
      "1.4%",
      "1.2%"
    ],
    correctIndex: 1
  },
  {
    id: 14,
    type: "mcq",
    text: "Minimum frequency with which an iron rod of length 3l, fixed at one end, can resonate with a free rod of length 4l (wave speed v₀ in iron) is:",
    options: [
      "v₀ / 4l",
      "v₀ / 12l",
      "v₀ / 8l",
      "v₀ / 24l"
    ],
    correctIndex: 0
  },
  {
    id: 15,
    type: "mcq",
    text: "A screw gauge has 2 threads in 1 mm. Circular scale has 50 divisions. Main scale shows 6 divisions and circular scale reads 46. The diameter of the wire is:",
    options: [
      "6.46 mm",
      "3.46 mm",
      "6.54 mm",
      "3.04 mm"
    ],
    correctIndex: 1
  },
  {
    id: 16,
    type: "mcq",
    text: "In fission ²³⁶₉₂U → ¹¹⁷X + ¹¹⁷Y + 2n, average binding energy/nucleon of X and Y is 8.5 MeV, and that of ²³⁶U is 7.6 MeV. Total energy liberated is about:",
    options: [
      "200 keV",
      "2 MeV",
      "200 MeV",
      "2000 MeV"
    ],
    correctIndex: 2
  },
  {
    id: 17,
    type: "mcq",
    text: "Photoelectric emission from a surface is observed for frequencies ν₁ and ν₂ (ν₂ > ν₁). The maximum K.E. of emitted electrons are in ratio 1:k. The threshold frequency ν₀ is:",
    options: [
      "ν₀ = (kν₂ − ν₁)/(k − 1)",
      "ν₀ = (kν₁ − ν₂)/(k − 1)",
      "ν₀ = (kν₂ − ν₁)/(k + 1)",
      "ν₀ = (ν₂ − kν₁)/(k − 1)"
    ],
    correctIndex: 1
  },
  {
    id: 18,
    type: "mcq",
    text: "A rectangular pulse and a triangular pulse move toward each other along x‑axis with speed 0.5 cm/s. At x = 0.5 cm and t = 2 s, the resultant displacement of string is:",
    options: [
      "3.5 cm",
      "2.5 cm",
      "4.0 cm",
      "3.0 cm"
    ],
    correctIndex: 3
  },
  {
    id: 19,
    type: "mcq",
    text: "A transverse wave on a string (snapshot shown in original figure) travels left to right. Which statement is wrong?\n(A) D,E,F have upward (positive) velocity\n(B) A,B,H have downward (negative) velocity\n(C) C,G have zero velocity\n(D) A,E have minimum velocity",
    options: [
      "Statement (A) is wrong",
      "Statement (B) is wrong",
      "Statement (C) is wrong",
      "Statement (D) is wrong"
    ],
    correctIndex: 3
  },
  {
    id: 20,
    type: "mcq",
    text: "Time intervals measured by a clock: 1.25, 1.24, 1.27, 1.21, 1.28 s. Percentage relative error of observations is:",
    options: [
      "2%",
      "4%",
      "16%",
      "1.6%"
    ],
    correctIndex: 3
  },

  /* Section B: numerical (Q21–Q25) */
  {
    id: 21,
    type: "num",
    text: "A star composed of pure helium (100% ⁴He) converts three ⁴He to one ¹²C via triple‑alpha process: ³(⁴He) → ¹²C + Q. Star mass = 2.0×10³² kg, power = 5.808×10³⁰ W. The rate of conversion of ⁴He to ¹²C is n×10⁴² s⁻¹. Find n (integer).",
    answer: "15"
  },
  {
    id: 22,
    type: "num",
    text: "An electron in hydrogen initially in fourth excited state (n = 5) jumps to level n by emitting a photon of energy 2.86 eV. Find n.",
    answer: "2"
  },
  {
    id: 23,
    type: "num",
    text: "Transverse pulse travels along a non‑uniform wire of length 2 m under tension 9 N. Mass per unit length μ = 4x² kg/m, x measured from light end. Time taken by pulse from x=0 to x=2 m is (in s):",
    answer: "1.25"
  },
  {
    id: 24,
    type: "num",
    text: "In a 3‑block system (data as in test), minimum horizontal force F (in N) so that sliding between middle and lower block starts (g = 10 m/s²) is:",
    answer: "30"
  },
  {
    id: 25,
    type: "num",
    text: "For a given displacement‑vs‑time graph of a particle of a string, amplitude of the wave is  ___ cm.",
    answer: "5"
  }
];

/* === CHEMISTRY QUESTIONS (ASCII-safe) === */
const chemistryQuestions = [
  {
    id: 1,
    type: "mcq",
    text: "A 1000 g aqueous solution contains 200 g of CaBr2. Calculate the molality of the solution. (Atomic masses: Ca = 40, Br = 80)",
    options: [
      "1.0 mol kg-1",
      "2.0 mol kg-1",
      "1.25 mol kg-1",
      "0.20 mol kg-1"
    ],
    correctIndex: 2
  },
  {
    id: 2,
    type: "mcq",
    text: "50 mL of 20-volume H2O2 is mixed with 200 mL of 10-volume H2O2. Assuming density is same as water, what is the volume strength of the resulting solution?",
    options: [
      "15-volume",
      "17.5-volume",
      "18-volume",
      "12-volume"
    ],
    correctIndex: 0
  },
  {
    id: 3,
    type: "mcq",
    text: "In Kjeldahl's method, NH3 evolved from 14 g of an organic compound is absorbed in 100 mL of 1 M H3PO4. The excess acid requires 100 mL of 0.5 M NaOH for complete neutralisation. Percentage of nitrogen in the compound is:",
    options: [
      "25%",
      "50%",
      "5.0%",
      "2.5%"
    ],
    correctIndex: 0
  },
  {
    id: 4,
    type: "mcq",
    text: "A moth repellent contains 49% C, 2.7% H and 48.3% Cl by mass. The molecular formula of the compound is:",
    options: [
      "C6H4Cl2",
      "C3H3Cl",
      "C2H2Cl",
      "C2H4Cl2"
    ],
    correctIndex: 0
  },
  {
    id: 5,
    type: "mcq",
    text: "Potassium superoxide (KO2) is used in breathing masks. For the reaction 4KO2 + 2H2O -> 4KOH + 3O2, if 8 mol KO2 and 5 mol H2O are present, the mass of O2 (in g) produced is:",
    options: [
      "5 g",
      "6 g",
      "160 g",
      "192 g"
    ],
    correctIndex: 3
  },
  {
    id: 6,
    type: "mcq",
    text: "A liquid A has vapour pressure 70 torr at 27 deg C. A solution contains mole fraction of B = 0.2 and shows total vapour pressure 84 torr at 27 deg C and behaves ideally. Vapour pressure of pure liquid B (in torr) at 27 deg C is:",
    options: [
      "14",
      "56",
      "140",
      "70"
    ],
    correctIndex: 2
  },
  {
    id: 7,
    type: "mcq",
    text: "Which of the following aqueous solutions at 300 K will have the highest vapour pressure? (alpha = degree of dissociation)",
    options: [
      "0.1 M CH3COOH, alpha = 0.7",
      "0.1 M KCl, alpha = 1",
      "0.1 M Na2SO4, alpha = 1",
      "0.1 M K2[ZnFe(CN)6], alpha = 1"
    ],
    correctIndex: 0
  },
  {
    id: 8,
    type: "mcq",
    text: "For the following transformations, which statement is NOT correct?\n(i) Nitrobenzene -> Aniline (reduction)\n(ii) Nitrobenzene (strongly deactivated ring) undergoing Friedel-Crafts reaction\n(iii) Nitro group reduction followed by nucleophilic substitution\nChoose the incorrect option.",
    options: [
      "A is incorrect",
      "B is incorrect (Friedel-Crafts on highly deactivated ring)",
      "C is incorrect",
      "D is incorrect"
    ],
    correctIndex: 1
  },
  {
    id: 9,
    type: "mcq",
    text: "Isopropylbenzene (cumene) reacts with O2 (hv, BF3) giving cumene hydroperoxide, which on hydrolysis and work-up gives P, Q, R. The correct set of products P, Q, R is:",
    options: [
      "Benzaldehyde, phenol, acetone",
      "Toluene, phenol, ethanol",
      "Benzyl alcohol, phenol, formaldehyde",
      "Phenol and acetone (major), along with side product"
    ],
    correctIndex: 3
  },
  {
    id: 10,
    type: "mcq",
    text: "Match the reactions with products:\nP) Phenol + CHCl3/NaOH -> ?\nQ) Phenol + conc. HNO3 -> ?\nR) Salicylic acid + acetic anhydride -> ?\nS) Phenol -> (i) NaOH (ii) CO2/H+ -> ?",
    options: [
      "P: Salicylic acid; Q: Picric acid; R: Aspirin; S: Salicylaldehyde",
      "P: Salicylaldehyde; Q: Picric acid; R: Aspirin; S: Salicylic acid",
      "P: Picric acid; Q: Salicylic acid; R: Aspirin; S: Salicylaldehyde",
      "P: Salicylaldehyde; Q: Salicylic acid; R: Picric acid; S: Aspirin"
    ],
    correctIndex: 1
  },
  {
    id: 11,
    type: "mcq",
    text: "Which statement about distinguishing the given pairs is incorrect?\n(A) Alkynes detected by ammoniacal Cu2Cl2\n(B) Glucose and fructose distinguished by Fehling's solution\n(C) -CHO group detected by Tollens' reagent\n(D) Phenol detected by neutral FeCl3",
    options: [
      "A",
      "B",
      "C",
      "D"
    ],
    correctIndex: 1
  },
  {
    id: 12,
    type: "mcq",
    text: "Match List I (compound type) with List II (reagent used):\nA) Aliphatic aldehyde\nB) Phenol\nC) Primary amine\nD) Methyl ketone or ethanol with CH3-CO- or CH3-CH-OH structure\nList II:\nI) Alkaline CuSO4 + sodium citrate\nII) Neutral FeCl3\nIII) Alkaline chloroform\nIV) KI + NaOCl (iodoform test)",
    options: [
      "A-II, B-IV, C-III, D-I",
      "A-IV, B-I, C-II, D-III",
      "A-III, B-IV, C-I, D-II",
      "A-III, B-IV, C-II, D-I"
    ],
    correctIndex: 3
  },
  {
    id: 13,
    type: "mcq",
    text: "Buna-N rubber can be represented by which repeating unit?",
    options: [
      "-[CH2-CH(Cl)]-",
      "-[CH2-CH=CH-CH2-CH2-CH(CN)]-",
      "-[CH2-CH=CH-CH2-CH2-CH2]-",
      "-[CH2-CH(CN)]-"
    ],
    correctIndex: 1
  },
  {
    id: 14,
    type: "mcq",
    text: "Identify the correct description of the given Fischer and Haworth structures: one is L-glucose, the other beta-glucopyranose, and one is D-fructose.",
    options: [
      "D-Glucose, beta-glucopyranose, D-fructose",
      "L-Glucose, beta-glucopyranose, L-fructose",
      "L-Glucose, alpha-glucopyranose, D-fructose",
      "L-Glucose, beta-glucopyranose, D-fructose"
    ],
    correctIndex: 3
  },
  {
    id: 15,
    type: "mcq",
    text: "According to molecular orbital theory, which statement regarding Li2 and Li2- is correct?",
    options: [
      "Both are unstable",
      "Li2 is unstable and Li2- is stable",
      "Li2 is stable and Li2- is unstable",
      "Both Li2 and Li2- are stable"
    ],
    correctIndex: 3
  },
  {
    id: 16,
    type: "mcq",
    text: "Aluminium commonly shows +3 oxidation state, but thallium exists in +1 and +3 states. This difference is mainly due to:",
    options: [
      "Lanthanoid contraction",
      "Lattice energy effect",
      "Diagonal relationship",
      "Inert pair effect"
    ],
    correctIndex: 3
  },
  {
    id: 17,
    type: "mcq",
    text: "In which of the following processes does bond order increase and paramagnetic character change to diamagnetic?",
    options: [
      "O2 -> O2-",
      "O2 -> O2 2-",
      "NO -> NO+",
      "N2 -> N2+"
    ],
    correctIndex: 2
  },
  {
    id: 18,
    type: "mcq",
    text: "In XeOF4, the hybridisation of Xe and number of lone pairs on Xe are respectively:",
    options: [
      "sp3d and 2",
      "sp3d2 and 2",
      "sp3d2 and 1",
      "sp3d and 1"
    ],
    correctIndex: 3
  },
  {
    id: 19,
    type: "mcq",
    text: "Which of the following molecules is diamagnetic?",
    options: [
      "B2",
      "N2",
      "O2",
      "S2"
    ],
    correctIndex: 1
  },
  {
    id: 20,
    type: "mcq",
    text: "In which of the following ionisation processes does bond energy increase and magnetic behaviour change from paramagnetic to diamagnetic?",
    options: [
      "NO -> NO+",
      "N2 -> N2+",
      "C2 -> C2+",
      "O2 -> O2+"
    ],
    correctIndex: 0
  },
  {
    id: 21,
    type: "num",
    text: "A solution contains 20 g haemoglobin in 1 dm3, separated from pure water by a semipermeable membrane at 300 K. At equilibrium, the solution column is 96 mm higher than water. Density of final solution = 1.013 g mL-1, g = 10 m s-2, R = 0.08 L atm K-1 mol-1. Number of millimoles in 320 g haemoglobin is:",
    answer: "6.4"
  },
  {
    id: 22,
    type: "num",
    text: "For an ethanol-water solution at room temperature showing positive deviation from Raoult's law, consider:\n(i) delta G = 0\n(ii) delta S_system > 0\n(iii) delta S_surroundings < 0\n(iv) delta H = 0\nHow many of these statements are correct?",
    answer: "2"
  },
  {
    id: 23,
    type: "num",
    text: "From the set NO2, OCH3, Cl, CH3, CHO, CN, NH2, SO3H, CH3 (substituents on benzene), total number of compounds that undergo electrophilic aromatic substitution faster than benzene is:",
    answer: "5"
  },
  {
    id: 24,
    type: "num",
    text: "Total number of sp2 hybrid orbitals present in a benzene (C6H6) molecule is:",
    answer: "24"
  },
  {
    id: 25,
    type: "num",
    text: "From the species XeF5-, XeO3, XeO2F2, XeF5, XeO3F2, XeOF4, XeF4, number of xenon compounds having exactly one lone pair on central Xe is:",
    answer: "4"
  }
];

/* === MATHS QUESTIONS === */
const mathsQuestions = [
  {
    id: 1,
    type: "mcq",
    text: "Let [x] denote the greatest integer <= x. The real numbers x satisfying\n e^[x] - e^x + 1/3 = 0\nlie in which interval?",
    options: [
      "(0, 1/e)",
      "(0, ln 2)",
      "(ln 2, ln 3)",
      "(1, e)"
    ],
    correctIndex: 1
  },
  {
    id: 2,
    type: "mcq",
    text: "Let g: N -> N be defined by\n g(3n+1) = 3n+2, g(3n+2) = 3n+3, g(3n+3) = 3n+1, for all n >= 0.\nWhich statement is true?",
    options: [
      "There exists f:N->N such that g(f(x)) = f(x)",
      "There exists one-one f:N->N such that f(g(x)) = f(x)",
      "There exists onto f:N->N such that f(g(x)) = f(x)",
      "g(g(g(x))) = g(x)"
    ],
    correctIndex: 2
  },
  {
    id: 3,
    type: "mcq",
    text: "Let [x] be the greatest integer <= x. The equation\n sin^-1(x^2 - 3) + cos^-1(x) = [x]\nfor x in [-1,1] has how many solutions?",
    options: [
      "2",
      "infinitely many",
      "0",
      "1"
    ],
    correctIndex: 1
  },
  {
    id: 4,
    type: "mcq",
    text: "If the sum of first 20 terms of the series\nlog_7(12x) + log_7(13x) + log_7(14x) + ...\nis 460, then the value of x is:",
    options: [
      "7^2",
      "7^12",
      "e",
      "7^4621"
    ],
    correctIndex: 0
  },
  {
    id: 5,
    type: "mcq",
    text: "For non-zero real r, let [r] be greatest integer <= r. The value of\n lim (n->infinity) ([r][2r]...[nr]) / n^2\nis:",
    options: [
      "r",
      "2r",
      "0",
      "r^2/2"
    ],
    correctIndex: 3
  },
  {
    id: 6,
    type: "mcq",
    text: "Let a be real and define\n f(x) = cos^-1(1-[x]) + sin^-1(1-x) - a(x-x^3), x != 0, where [x] is greatest integer.\nIf f(x) is continuous at x = 0, then:",
    options: [
      "No such real a exists",
      "a = 0",
      "a = 2",
      "a = 4"
    ],
    correctIndex: 0
  },
  {
    id: 7,
    type: "mcq",
    text: "For which real values of a does the quadratic equation\n(x+1)(x+2) + 4ax - 2 = 0\nhave exactly one root in the interval (0,1)?",
    options: [
      "(0,2)",
      "(2,4)",
      "(1,3)",
      "(-3,-1)"
    ],
    correctIndex: 2
  },
  {
    id: 8,
    type: "mcq",
    text: "Let A = {1,2,3,...,10} and f:A->A be defined by\n f(k) = k+1 if k is odd, f(k) = k if k is even.\nNumber of functions g:A->A such that g(f(x)) = f(x) is:",
    options: [
      "55",
      "C(10,5)",
      "5!",
      "10^5"
    ],
    correctIndex: 3
  },
  {
    id: 9,
    type: "mcq",
    text: "If 0 < a,b < 1 and tan^-1(a) + tan^-1(b) = 4 tan^-1(1/2), then the value of\n a + b - ab + a^2 b^2 + a^3 b^3 + ... (to infinity)\nis:",
    options: [
      "e^4",
      "e^2",
      "ln 2",
      "ln 4"
    ],
    correctIndex: 2
  },
  {
    id: 10,
    type: "mcq",
    text: "Sum of the first n terms of a non-constant A.P. is\n S_n = 50n - (n(n-7)A)/2, where A is constant.\nIf d is its common difference, then the ordered pair (d, a_50) equals:",
    options: [
      "(A, 50 - 46A)",
      "(A, 50 - 45A)",
      "(50, 50 - 46A)",
      "(50, 50 - 45A)"
    ],
    correctIndex: 0
  },
  {
    id: 11,
    type: "mcq",
    text: "For x,y > 0, define\n y = log10 x + log10 (x^13) + log10 (x^19) + ... (up to 2y terms)\n(as in original pattern). The ordered pair (x,y) is:",
    options: [
      "(10^6, 6)",
      "(10^6, 9)",
      "(10^2, 3)",
      "(10^4, 6)"
    ],
    correctIndex: 1
  },
  {
    id: 12,
    type: "mcq",
    text: "Let [t] denote greatest integer. If for some l in (0,1), the limit\n L = lim (x->0) (1-[x]x)/(x-[x]x)\nexists, then L equals:",
    options: [
      "1",
      "2",
      "1/2",
      "0"
    ],
    correctIndex: 1
  },
  {
    id: 13,
    type: "mcq",
    text: "Let f:(1,3)->R be defined by\n f(x) = (5x)/(x-1) for 1<x<=2,\n f(x) = (5x)/(x-2) for 2<x<3.\nThe range of f is:",
    options: [
      "(-infinity,4) U (5,infinity)",
      "(4,infinity)",
      "(-infinity,4) U (5,infinity) (both branches)",
      "(4,5)"
    ],
    correctIndex: 2
  },
  {
    id: 14,
    type: "mcq",
    text: "The value of\n csc(2cot^-1 5) * cos^-1(33/56)\nis:",
    options: [
      "33/65",
      "56/65",
      "65/33",
      "33/56"
    ],
    correctIndex: 1
  },
  {
    id: 15,
    type: "mcq",
    text: "If x,y>0, xy<1 and\n S = x + y + x^2 + xy + y^2 + x^3 + x^2 y + x y^2 + y^3 + ... (to infinity),\nthen S equals:",
    options: [
      "(xy-xy)/((1-x)(1-y))",
      "xy/((1-x)(1-y))",
      "(1-xy)/((1-x)(1-y))",
      "xy-xy/((1-x)(1-y))"
    ],
    correctIndex: 2
  },
  {
    id: 16,
    type: "mcq",
    text: "Let f:(0,pi) U (pi,3pi/2)->R be defined by\n f(x) = max_{0<=t<=x} (sin t) for 0<x<=pi/2,\n f(x) = 1 for pi/2<x<=pi,\n f(x) = cos x for pi<x<3pi/2.\nWhich is true?",
    options: [
      "f is not continuous at exactly two points",
      "f is continuous everywhere but not differentiable at exactly one point",
      "f is differentiable everywhere",
      "f is continuous everywhere but not differentiable at exactly two points"
    ],
    correctIndex: 2
  },
  {
    id: 17,
    type: "mcq",
    text: "For 0<x<3pi/2, let\n f(x) = x, g(x) = tan x, h(x) = sqrt(1-x^2)/(1+x^2),\nand p(x) = h(f(g(x))). Then p(pi/3) equals:",
    options: [
      "tan(5pi/12)",
      "tan(pi/12)",
      "tan(7pi/12)",
      "tan(11pi/12)"
    ],
    correctIndex: 3
  },
  {
    id: 18,
    type: "mcq",
    text: "The value of the limit\n lim (x->0) (cos(sin x) - cos x)/x^4\nis:",
    options: [
      "1/4",
      "1/6",
      "1/12",
      "1"
    ],
    correctIndex: 2
  },
  {
    id: 19,
    type: "mcq",
    text: "Let f:R->R satisfy f(x)-f(y) = x-y for all x,y and f(0)=1. Then:",
    options: [
      "f(x)=0 for all x",
      "f(x)=x for all x",
      "f can be any function",
      "f(x)=x+1 for all x"
    ],
    correctIndex: 3
  },
  {
    id: 20,
    type: "mcq",
    text: "If x = 1 - tan^4(theta/2) and y = 1 - cos^2(theta) for small theta->0, then:",
    options: [
      "y+1 = x+1",
      "x+1 = y-1",
      "y+1 = x-1",
      "x+1 = y+1"
    ],
    correctIndex: 2
  },
  {
    id: 21,
    type: "num",
    text: "For x in R, number of real roots of\n 3|x|^2 - 4x^2 + 1 = |x-1|\nis:",
    answer: "4"
  },
  {
    id: 22,
    type: "num",
    text: "Let A={a,b,c} and B={1,2,3,4}. Let\n C = { f:A->B | |f(A)| = 2 and f is not one-one }.\nNumber of elements in C is:",
    answer: "19"
  },
  {
    id: 23,
    type: "num",
    text: "Evaluate\n 50 tan(cot^-1 3 + cot^-1 2) - 42 tan(tan^-1(2/2)).",
    answer: "29"
  },
  {
    id: 24,
    type: "num",
    text: "If\n 1/10 + 1/32 + 1/33 + ... up to (1/(10*32*33)) has value l, then 12l equals:",
    answer: "3"
  },
  {
    id: 25,
    type: "num",
    text: "Suppose X equals the limit value given in the original detailed expression. The final evaluated value of X is:",
    answer: "1"
  }
];

/* ===== 2. STATE ===== */

const subjects = ["physics","chemistry","maths"];
const questionMap = {
  physics: physicsQuestions,
  chemistry: chemistryQuestions,
  maths: mathsQuestions
};

let state = {
  started:false,
  currentSubject:"physics",
  currentIndex:{ physics:0, chemistry:0, maths:0 },
  answers:{ physics:[], chemistry:[], maths:[] },
  visited:{ physics:[], chemistry:[], maths:[] },
  marked:{ physics:[], chemistry:[], maths:[] },
  timer:null,
  remaining:3*60*60
};

function qs(id){return document.getElementById(id);}

/* ===== 3. LOGIN / START ===== */

function startTest(){
  const n = qs("name").value.trim();
  const r = qs("roll").value.trim();
  if(!n || !r){alert("Please enter Name and Roll No.");return;}
  qs("candName").textContent = n;
  qs("candRoll").textContent = r;
  qs("loginView").classList.add("hidden");
  qs("instView").classList.remove("hidden");
}

function beginExam(){
  if(state.started) return;
  state.started = true;
  subjects.forEach(sub=>{
    const len = questionMap[sub].length;
    state.answers[sub] = new Array(len).fill(null);
    state.visited[sub] = new Array(len).fill(false);
    state.marked[sub]  = new Array(len).fill(false);
  });
  qs("instView").classList.add("hidden");
  qs("testView").classList.remove("hidden");
  qs("totalQLabel").textContent = questionMap[state.currentSubject].length;
  buildPalette();
  showQuestion(state.currentSubject, 0);
  startTimer();
}

/* ===== 4. TIMER ===== */

function startTimer(){
  updateTimerText();
  state.timer = setInterval(()=>{
    state.remaining--;
    if(state.remaining<=0){
      state.remaining = 0;
      updateTimerText();
      clearInterval(state.timer);
      autoSubmitOnTime();
    }else{
      updateTimerText();
    }
  },1000);
}
function updateTimerText(){
  const t = state.remaining;
  const h = String(Math.floor(t/3600)).padStart(2,"0");
  const m = String(Math.floor((t%3600)/60)).padStart(2,"0");
  const s = String(t%60).padStart(2,"0");
  qs("timerTxt").textContent = `${h}:${m}:${s}`;
}

/* ===== 5. SUBJECT SWITCH ===== */

function switchSubject(sub){
  state.currentSubject = sub;
  const fullName = sub==="physics" ? "Physics"
                 : sub==="chemistry" ? "Chemistry"
                 : "Mathematics";
  const shortName = sub==="physics" ? "Phy"
                  : sub==="chemistry" ? "Chem"
                  : "Math";

  document.getElementById("subjectLabel").textContent = fullName;
  document.getElementById("subShort").textContent = shortName;
  document.getElementById("palTitle").textContent =
    fullName + " 1-" + questionMap[sub].length;

  qs("tabPhy").classList.toggle("active", sub==="physics");
  qs("tabChem").classList.toggle("active", sub==="chemistry");
  qs("tabMath").classList.toggle("active", sub==="maths");

  qs("totalQLabel").textContent = questionMap[sub].length;
  buildPalette();
  showQuestion(sub, state.currentIndex[sub]);
}

/* ===== 6. PALETTE ===== */

function buildPalette(){
  const pal = qs("palette");
  pal.innerHTML = "";
  const sub = state.currentSubject;
  const totalQ = questionMap[sub].length;
  for(let i=0;i<totalQ;i++){
    const btn = document.createElement("button");
    btn.className = "qbtn notvisited";
    btn.textContent = (i+1);
    btn.onclick = ()=>jumpTo(i);
    pal.appendChild(btn);
  }
  updatePalette();
}
function updatePalette(){
  const palChildren = qs("palette").children;
  const sub = state.currentSubject;
  const totalQ = questionMap[sub].length;
  for(let i=0;i<totalQ;i++){
    const ans = state.answers[sub][i];
    const visited = state.visited[sub][i];
    const marked = state.marked[sub][i];
    let cls = "";
    if(marked){
      cls = "qbtn marked";
    }else if(ans !== null && ans !== ""){
      cls = "qbtn answered";
    }else if(visited){
      cls = "qbtn notanswered";
    }else{
      cls = "qbtn notvisited";
    }
    if(i === state.currentIndex[sub]) cls += " current";
    palChildren[i].className = cls;
  }
}

/* ===== 7. QUESTION RENDER ===== */

function showQuestion(sub, idx){
  state.currentSubject = sub;
  state.currentIndex[sub] = idx;
  const q = questionMap[sub][idx];
  state.visited[sub][idx] = true;

  qs("qNumberLabel").textContent = (idx+1);
  qs("qText").textContent = q.text;
  const qType = (q.type==="mcq") ? "Single Correct MCQ (+4, -1)" : "Numerical (+4, 0)";
  qs("qTypeLabel").textContent = qType;

  const optList = qs("optList");
  const numBox = qs("numBox");
  const numInput = qs("numInput");

  if(q.type === "mcq"){
    optList.classList.remove("hidden");
    numBox.classList.add("hidden");
    optList.innerHTML = "";
    q.options.forEach((opt, i)=>{
      const li = document.createElement("li");
      if(state.answers[sub][idx] === i) li.classList.add("selected");
      li.onclick = ()=>{
        state.answers[sub][idx] = i;
        showQuestion(sub, idx);
      };
      const spanLabel = document.createElement("span");
      spanLabel.className = "opt-label";
      spanLabel.textContent = String.fromCharCode(65+i)+".";
      const spanText = document.createElement("span");
      spanText.textContent = opt;
      li.appendChild(spanLabel);
      li.appendChild(spanText);
      optList.appendChild(li);
    });
  }else{
    optList.classList.add("hidden");
    numBox.classList.remove("hidden");
    numInput.value = state.answers[sub][idx]!==null ? state.answers[sub][idx] : "";
    numInput.oninput = e => {
      state.answers[sub][idx] = e.target.value.trim();
      updatePalette();
    };
  }
  updatePalette();
}

/* ===== 8. NAV / ACTIONS ===== */

function jumpTo(i){ showQuestion(state.currentSubject, i); }

function saveAndNext(){
  const sub = state.currentSubject;
  const totalQ = questionMap[sub].length;
  const next = (state.currentIndex[sub] + 1) % totalQ;
  showQuestion(sub, next);
}
function clearResponse(){
  const sub = state.currentSubject;
  const idx = state.currentIndex[sub];
  const q = questionMap[sub][idx];
  if(q.type === "mcq"){
    state.answers[sub][idx] = null;
  }else{
    state.answers[sub][idx] = "";
    qs("numInput").value = "";
  }
  showQuestion(sub, idx);
}
function markForReview(){
  const sub = state.currentSubject;
  const idx = state.currentIndex[sub];
  state.marked[sub][idx] = true;
  const totalQ = questionMap[sub].length;
  const next = (idx + 1) % totalQ;
  showQuestion(sub, next);
}
function finishTest(){
  if(!confirm("Are you sure you want to finish the test for all subjects?")) return;
  clearInterval(state.timer);
  calculateAndShowSummary();
}
function autoSubmitOnTime(){
  alert("Time is over. Test will be submitted automatically.");
  calculateAndShowSummary();
}

/* ===== 9. SCORING + SUMMARY ===== */

function evalSubject(sub){
  let att=0, cor=0, wr=0, marks=0;
  const qsArr = questionMap[sub];
  qsArr.forEach((q,i)=>{
    const ans = state.answers[sub][i];
    if(q.type === "mcq"){
      if(ans !== null){
        att++;
        if(ans === q.correctIndex){ cor++; marks+=4; }
        else{ wr++; marks-=1; }
      }
    }else{
      if(ans !== null && ans !== ""){
        att++;
        const correct = parseFloat(q.answer);
        const user = parseFloat(ans);
        if(!isNaN(user) && Math.abs(user-correct)<1e-3){
          cor++; marks+=4;
        }else{ wr++; }
      }
    }
  });
  return {att,cor,wr,marks,total:qsArr.length};
}

function calculateAndShowSummary(){
  const phy = evalSubject("physics");
  const chem = evalSubject("chemistry");
  const math = evalSubject("maths");

  qs("smTotalP").textContent = phy.total;
  qs("smAttP").textContent   = phy.att;
  qs("smCorP").textContent   = phy.cor;
  qs("smWrP").textContent    = phy.wr;
  qs("smMkP").textContent    = phy.marks;

  qs("smTotalC").textContent = chem.total;
  qs("smAttC").textContent   = chem.att;
  qs("smCorC").textContent   = chem.cor;
  qs("smWrC").textContent    = chem.wr;
  qs("smMkC").textContent    = chem.marks;

  qs("smTotalM").textContent = math.total;
  qs("smAttM").textContent   = math.att;
  qs("smCorM").textContent   = math.cor;
  qs("smWrM").textContent    = math.wr;
  qs("smMkM").textContent    = math.marks;

  const overall = phy.marks + chem.marks + math.marks;
  const overallMax = 4*(phy.total + chem.total + math.total);
  qs("smOverall").textContent = overall;
  qs("smOverallMax").textContent = overallMax;

  qs("summaryPanel").classList.remove("hidden");
}

<!-- pehle tumhara pura existing JS -->
<script>
  function showSummary() {
    calculateAndShowSummary();
  }

  // yaha tumhara baaki purana JS code hoga
</script>

<!-- iske baad naya fullscreen wala JS -->
<script>
  const startBtn = document.getElementById('startTestBtn'); // Start Test button ka id
  if (startBtn) {
    startBtn.addEventListener('click', () => {
      const main = document.querySelector('.main-container');
      if (main) {
        main.style.width = window.innerWidth + 'px';
        main.style.height = window.innerHeight + 'px';
      }
    });
  }

  window.addEventListener('resize', () => {
    const main = document.querySelector('.main-container');
    if (main) {
      main.style.width = window.innerWidth + 'px';
      main.style.height = window.innerHeight + 'px';
    }
  });
</script>

</body>
</html>

